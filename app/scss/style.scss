$color-black: #000000;
$color-white: #ffffff;
$color-lightblue: #cedde8;
$color-text: #333333;
$color-navy: #0e5371;//#1585a6;
$color-red: #ea4e00;
$color-orange: #ee9324;
$color-yellow: #eebc24;
$color-grey: #b2b2b2;
$color-border: #ffffff;
$color-navy1: #166ca6;

$color-s2: #0ab3c6;
$color-s3: #0ac67e;
$color-s4: #6270f3;
$color-s5: #9347f0;

$field-size: 30px;

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 100%;
  height: 100%;
}

body {
  background: $color-navy;
  background-size: cover;
  color: $color-text;
  font-family: helvetica, "Lucida Sans Unicode", "Lucida Grande", sans-serif;
  height: 100%;
  line-height: 1.5em;
  text-align: center;
}

//:focus { outline: 0; }

.clearfix::before,
.clearfix::after {
  content: "";
  display: table;
}

.clearfix::after {
  clear: both;
}

.clearfix {
  zoom: 1; // ie 6/7
}

h3 {
  background: $color-black;
  color: $color-white;
  line-height: 2em;
  margin-bottom: 10px;
  text-align: center;
}

main {
  text-align: center;
  width: 531px;
  margin: 0 auto;
}

.score-board {
  background: $color-white;
  float: left;
  height: $field-size*11;
  text-align: left;
  width: 200px;
  box-shadow: 1px 1px 5px #333 ;

  p {
    margin-left: 10px;
    margin-right: 10px;
    font-weight: bold;
  }
}

[role="button"] {

  @extend p;

  background: $color-white;
  border: 1px $color-black solid;
  color: $color-black;
  cursor: pointer;
  font-weight: bold;
  line-height: 2em;
  margin-top: 10px;
  text-align: center;

  &:hover {
    background: $color-black;
    color: $color-white;
  }
}

.board-container {
  width: 11 * $field-size + 1;
  float: left;
}

#p2 {
  clear: both;
  margin-left: 210px;
  margin-top: 50px;
}

.board-top-bar {
  color: $color-white;
  float: left;

  div {
    float: left;
  }
}

.board-left-bar {
  color: $color-white;
  float: left;
  height: 10 * $field-size;
  margin-top: $field-size;
  width: $field-size;
}

.field-side {
  font-size: 0.7em;
  height: $field-size;
  line-height: 28px;
  width: $field-size;
}



.board {
  border-top: 1px $color-border solid;
  border-left: 1px $color-border solid;
  float: left;
  position: relative;
  width: calc(10 * #{$field-size} + 1px);
}

.field {
  border-bottom: 1px $color-border solid;
  border-right: 1px $color-border solid;
  float: left;
  height: $field-size;
  width: $field-size;
}

.ship {
  background: $color-grey;

  &-2{ background: $color-s2; }
  &-3{ background: $color-s3; }
  &-4{ background: $color-s4; }
  &-5{ background: $color-s5; }

  &-2-text { color: $color-s2; }
  &-3-text { color: $color-s3; }
  &-4-text { color: $color-s4; }
  &-5-text { color: $color-s5; }
}

@keyframes burning {
  0% { background-position: 50% 0%; }
  50% { background-position: 50% 100%; }
  100% { background-position: 50% 0%; }
}

@keyframes missing {
  0% { transform: scale(0.1); }
  33% { transform: scale(0.4); }
  66% { transform: scale(0.7); }
  100% { transform: scale(1); opacity: 0.5}
}

@keyframes missing-x {
  0% { opacity: 0.1 }
  25% { opacity: 0.5 }
  50% { opacity: 1}
  25% { opacity: 0.5}
  100% { opacity: 0.1}
}

.burned {
  animation: burning 1s ease infinite;
  background-image: linear-gradient(180deg, $color-yellow, $color-orange, $color-red);
  background-size: 100% 200%;
}

.missed {

  position: relative;

  &::before {
    /*border: 1px $color-white solid;
    border-radius: $field-size/2;
    content: "";
    height: $field-size - 1px;
    width: $field-size - 1px;
    position: absolute;
    top: 0;
    left: 0;
    animation: missing 0.6s ease-out infinite;*/
    //animation: missing-x 1s ease-out infinite;
    border-right: 1px $color-white solid;
    content: "";
    height: $field-size;
    position: absolute;
    top: -11px;
    left: -11px;
    transform: rotate(45deg);
    width: $field-size;
  }

  &::after {
    /*border: 1px $color-white solid;
    border-radius: $field-size/2;
    content: "";
    height: $field-size - 1px;
    width: $field-size - 1px;
    position: absolute;
    top: 0;
    left: 0;
    animation: missing 0.6s ease-out 0.4s infinite ;*/
    //animation: missing-x 1s ease-out infinite;
    border-left: 1px $color-white solid;
    content: "";
    height: $field-size;
    position: absolute;
    top: -11px;
    left: 10px;
    transform: rotate(-45deg);
    width: $field-size;
  }
}

#pointer {
  border: 1px $color-red solid;
  border-radius: $field-size;
  box-sizing: content-box;
  cursor: none;
  display: none;
  height: calc(2 * #{$field-size});
  left: 0;
  pointer-events: none;
  position: absolute;
  top: 0;
  width: calc(2 * #{$field-size});

  &::before {
        content: "";
        height: 0;
        width: $field-size;
        border-bottom: 1px $color-red solid;
        position: absolute;
        top: $field-size - 1px;
        right: $field-size*2 - 5px;
      }

  &::after {
        content: "";
        height: 0;
        width: $field-size;
        border-bottom: 1px $color-red solid;
        position: absolute;
        top: $field-size - 1px;
        left: $field-size*2 - 5px;
      }

  > div {
    //background: rgba($color-red, 0.5);
    border: 1px $color-red solid;
    border-radius:calc( #{$field-size} * 0.65);
    margin-top: calc(0.35 * #{$field-size} - 1px);
    margin-left: calc(0.35 * #{$field-size} - 1px);
    height: calc(1.3 * #{$field-size});
    width: calc(1.3 * #{$field-size});

  &::before {
        content: "";
        width: 0;
        height: $field-size;
        border-left: 1px $color-red solid;
        position: absolute;
        right: $field-size - 1px;
        bottom: $field-size*2 - 5px;
      }

  &::after {
        content: "";
        width: 0;
        height: $field-size;
        border-left: 1px $color-red solid;
        position: absolute;
        right: $field-size - 1px;
        top: $field-size*2 - 5px;
      }

    > div {
      background: rgba($color-red, 0.5);
      border-radius:calc( #{$field-size} * 0.6);
      height: calc(1.1 * #{$field-size});
      margin-top: calc(0.1 * #{$field-size} - 1px);
      margin-left: calc(0.1 * #{$field-size} - 1px);
      width: calc(1.1 * #{$field-size});
      position: relative;

      &::after {
        content: "";
        height: 4px;
        width: 4px;
        border-radius: 2px;
        background: $color-red;
        position: absolute;
        top: 14px;
        left: 14px ;
      }

    }
  }
}


.info-bar {
  background: $color-white;
  box-shadow: 1px 1px 5px #333;
  font-weight: bold;
  margin: 10px 0;
  text-align: left;

  span {
    display: inline-block;
    padding: 10px;
  }

  &-title {
    background: $color-black;
    color: $color-white;
  }

}

.popup {
  background: $color-white;
  border: 1px $color-black solid;
  box-shadow: 1px 1px 5px #333;
  font-weight: bold;
  left: 50%;
  padding-bottom: 10px;
  position: absolute;
  transform: translate(-50%, -50%);
  top: 45%;
  width: 500px;
  display: none;
}
